import{CARD_TYPES}from"./CardDefinitions.js";export class Card{constructor(data){this.id=data.id;this.name=data.name;this.type=data.type||CARD_TYPES.ACTION;this.color=data.color;this.basicEffect=data.basicEffect||{};this.strongEffect=data.strongEffect||{};this.manaCost=data.manaCost||0;this.description=data.description||""}getEffect(useStrong=false){return useStrong?this.strongEffect:this.basicEffect}canPlaySideways(){return this.type!==CARD_TYPES.WOUND&&this.type!==CARD_TYPES.ARTIFACT}isWound(){return this.type===CARD_TYPES.WOUND}clone(){return new Card({id:this.id,name:this.name,type:this.type,color:this.color,basicEffect:{...this.basicEffect},strongEffect:{...this.strongEffect},manaCost:this.manaCost,description:this.description})}}export function createDeck(cardDefinitions){return cardDefinitions.map((def,index)=>new Card({...def,id:def.id||`card_${index}`}))}export function shuffleDeck(deck){const shuffled=[...deck];for(let i=shuffled.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[shuffled[i],shuffled[j]]=[shuffled[j],shuffled[i]]}return shuffled}export function createWoundCard(){return new Card({id:`wound_${Date.now()}`,name:"Verletzung",type:CARD_TYPES.WOUND,color:null,description:"Blockiert eine Karte in deiner Hand"})}