import{t}from"../i18n/index.js";export class RenderController{constructor(game){this.game=game}renderHand(){if(this.game.ui){this.game.ui.renderHandCards(this.game.hero.hand,(index,card)=>this.game.interactionController.handleCardClick(index,card),(index,card)=>this.game.interactionController.handleCardRightClick(index,card))}}renderMana(){if(this.game.ui){this.game.ui.renderManaSource(this.game.manaSource,(index,color)=>this.game.interactionController.handleManaClick(index,color),this.game.timeManager.isNight())}}renderAchievements(category){const list=document.getElementById("achievements-list");const progressBar=document.getElementById("achievements-progress-bar");const progressText=document.getElementById("achievements-progress-text");if(!list)return;list.innerHTML="";const progress=this.game.achievementManager.getProgress();if(progressBar)progressBar.style.width=`${progress.percentage}% `;if(progressText)progressText.textContent=t("ui.labels.unlocked",{count:progress.unlocked,total:progress.total,percent:progress.percentage});const allAchievements=Object.values(this.game.achievementManager.achievements);const filtered=category==="all"?allAchievements:allAchievements.filter(a=>a.category===category);filtered.forEach(ach=>{const isUnlocked=this.game.achievementManager.isUnlocked(ach.id);const card=document.createElement("div");card.className=`achievement-card ${isUnlocked?"unlocked":"locked"}`;let dateStr="";card.innerHTML=`\n                <div class="achievement-icon">${ach.icon||"üèÜ"}</div>\n                <div class="achievement-info">\n                    <h3>${ach.name}</h3>\n                    <p>${ach.description}</p>\n                    ${dateStr}\n                </div>\n            `;list.appendChild(card)})}renderStatistics(category){const grid=document.getElementById("statistics-grid");if(!grid)return;grid.innerHTML="";const stats=this.game.statisticsManager.getAll();const createStatCard=(label,value)=>{const card=document.createElement("div");card.className="stat-card";card.innerHTML=`\n                <span class="value">${value}</span>\n                <span class="label">${label}</span>\n            `;grid.appendChild(card)};if(category==="global"){createStatCard(t("ui.stats.gamesPlayed"),stats.gamesPlayed||0);createStatCard(t("ui.stats.wins"),stats.gamesWon||0);createStatCard(t("ui.stats.losses"),stats.gamesLost||0);createStatCard(t("ui.stats.enemiesDefeated"),stats.enemiesDefeated||0);createStatCard(t("ui.stats.highestLevel"),stats.highestLevel||1);createStatCard(t("ui.stats.perfectCombats"),stats.perfectCombats||0)}else{createStatCard(t("ui.labels.round"),this.game.turnNumber||1);createStatCard(t("ui.labels.fame"),this.game.hero.fame||0);createStatCard(t("ui.labels.wounds"),this.game.hero.wounds||0);createStatCard(t("ui.labels.deckSize"),this.game.hero.deck.length+this.game.hero.hand.length+this.game.hero.discard.length);createStatCard(t("ui.labels.units"),this.game.hero.units.length)}}updatePhaseIndicator(){const phaseText=document.querySelector(".phase-text");const phaseHint=document.getElementById("phase-hint");if(!phaseText||!phaseHint)return;const hints={block:t("ui.hints.block"),damage:t("ui.hints.damage"),attack:t("ui.hints.attack"),end:t("ui.hints.end")};const phaseNames={block:t("ui.phases.block"),damage:t("ui.phases.damage"),attack:t("ui.phases.attack"),end:t("combat.combatEnded")};if(this.game.combat){phaseText.textContent=phaseNames[this.game.combat.phase]||t("ui.phases.combat");phaseHint.textContent=hints[this.game.combat.phase]||""}else if(this.game.movementMode){phaseText.textContent=t("ui.labels.movement");phaseHint.textContent=t("ui.hints.movement",{points:this.game.hero.movementPoints})}else{phaseText.textContent=t("ui.phases.exploration");phaseHint.textContent=t("ui.hints.exploration")}}}