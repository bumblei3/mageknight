export class SkillSelectionModal{constructor(){this.overlay=null;this.onSelect=null;this.createUI()}createUI(){this.overlay=document.createElement("div");this.overlay.className="modal";this.overlay.id="skill-selection-modal";this.overlay.innerHTML=`\n            <div class="modal-content level-up-content">\n                <div class="level-up-message">Level Aufstieg!</div>\n                <div class="level-up-section">\n                    <h3>Wähle einen neuen Skill</h3>\n                    <div class="choices-grid" id="skill-choices-container">\n                        \x3c!-- Skills injected here --\x3e\n                    </div>\n                </div>\n                <button id="confirm-skill-btn" class="btn btn-primary btn-large" style="display:none; margin: 2rem auto;">Wählen</button>\n            </div>\n        `;document.body.appendChild(this.overlay);this.container=this.overlay.querySelector("#skill-choices-container");this.confirmBtn=this.overlay.querySelector("#confirm-skill-btn");if(this.confirmBtn){this.confirmBtn.onclick=()=>this.handleConfirm()}else{console.error("SkillSelectionModal: confirm-skill-btn not found in innerHTML")}}show(skills){return new Promise(resolve=>{this.onSelect=resolve;this.selectedSkill=null;this.renderSkills(skills);this.overlay.classList.add("show");this.confirmBtn.style.display="none"})}renderSkills(skills){this.container.innerHTML="";skills.forEach(skill=>{const el=document.createElement("div");el.className="skill-choice";el.innerHTML=`\n                <div class="skill-icon">${skill.icon}</div>\n                <div class="skill-name">${skill.name}</div>\n                <div class="skill-description">${skill.description}</div>\n            `;el.onclick=()=>this.selectSkill(skill,el);this.container.appendChild(el)})}selectSkill(skill,element){this.selectedSkill=skill;this.container.querySelectorAll(".skill-choice").forEach(el=>el.classList.remove("selected"));element.classList.add("selected");this.confirmBtn.style.display="block"}handleConfirm(){if(this.selectedSkill&&this.onSelect){this.overlay.classList.remove("show");this.onSelect(this.selectedSkill)}}}